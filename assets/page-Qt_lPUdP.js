import{j as e}from"./index-BH-fJ4Ku.js";import{c as a,u as s}from"./react-vendor-Bx1kqAC_.js";import"./supabase-vendor-Bh6n7b__.js";function r(){const[r,t]=a.useState(!1),[i,n]=a.useState(""),[l,o]=a.useState(""),d=s();return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-900 flex items-center justify-center p-6",children:e.jsxs("div",{className:"max-w-md w-full bg-gray-800 rounded-2xl shadow-2xl p-8 border border-yellow-500/20",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("i",{className:"ri-admin-line text-4xl text-black"})}),e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Configuração Inicial"}),e.jsx("p",{className:"text-gray-400",children:"Crie o usuário administrador do sistema"})]}),e.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-6 mb-6 border border-gray-700",children:[e.jsx("h2",{className:"text-lg font-semibold text-yellow-400 mb-4",children:"Credenciais do Admin:"}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400",children:"E-mail:"}),e.jsx("span",{className:"text-white font-mono",children:"joka2dms@gmail.com"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Senha:"}),e.jsx("span",{className:"text-white font-mono",children:"ThugParadise616#"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Permissão:"}),e.jsx("span",{className:"text-yellow-400 font-semibold",children:"Superadmin"})]})]})]}),i&&e.jsx("div",{className:"bg-green-500/10 border border-green-500/50 rounded-lg p-4 mb-6",children:e.jsx("p",{className:"text-green-400 text-sm whitespace-pre-line",children:i})}),l&&e.jsx("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-4 mb-6",children:e.jsx("p",{className:"text-red-400 text-sm",children:l})}),e.jsx("button",{onClick:async()=>{t(!0),n(""),o("");try{const e="joka2dms@gmail.com",a="ThugParadise616#",s="Joka Admin",r="https://vxlhwibkbptkthrnznqi.supabase.co",t=await fetch(`${r}/functions/v1/create-admin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:a,fullName:s})}),i=await t.json();if(!i.success){if(i.error?.includes("already registered")||i.error?.includes("já existe"))return n(`✅ Usuário já configurado!\n\nE-mail: ${e}\nSenha: ${a}\n\nFaça login para acessar o dashboard.`),void setTimeout(()=>d("/login"),3e3);throw new Error(i.error||"Erro ao criar administrador")}n(`✅ ${i.message}!\n\nE-mail: ${e}\nSenha: ${a}\n\nFaça login para acessar o dashboard.`),setTimeout(()=>d("/login"),3e3)}catch(e){let a=e.message||"Erro desconhecido ao criar administrador";a.includes("already registered")||a.includes("já existe")||a.includes("atualizado")?(n("✅ Usuário já existe e está configurado!\n\nE-mail: joka2dms@gmail.com\nSenha: ThugParadise616#\n\nFaça login para acessar o dashboard."),setTimeout(()=>d("/login"),3e3)):o(`❌ ${a}`)}finally{t(!1)}},disabled:r,className:"w-full bg-gradient-to-r from-yellow-400 to-yellow-600 text-black font-semibold py-4 rounded-lg hover:from-yellow-500 hover:to-yellow-700 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 whitespace-nowrap",children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-black border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Criando..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-user-add-line text-xl"}),e.jsx("span",{children:"Criar Administrador"})]})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:()=>d("/login"),className:"text-gray-400 hover:text-yellow-400 transition-colors text-sm whitespace-nowrap",children:"Já tenho uma conta → Fazer Login"})})]})})}export{r as default};
